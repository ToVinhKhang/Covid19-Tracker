<!DOCTYPE HTML>
<html lang="EN">
<head>
	<meta charset="UTF-8">
	<title>Covid-19 Tracker</title>
	<link rel="icon" href="https://img.mlo-online.com/files/base/ebm/mlo/image/2020/05/Pixabay_coronavirus_5107715_1280.5eb16e6f5f05a.png?auto=format&w=720" type="image" sizes="16x16">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.7.1/themes/dark_turquoise.min.js"></script>
	<link rel="stylesheet" href="css/styles.css">
	<script src="js/scripts.js"></script>
</head>

<!-- Covid19 Tracker -->
<body>
	<!-- About The Data -->
	<button class="btn btn-info btnAboutTheData" onclick=AboutTheData();>About The Data?</button>
	
	<!-- Time Data Updated -->
	<p id="minutes"></p>
	
	<!-- Data -->
	<div class="container">
		<div class="text-center">
			<img class="logo" src="https://img.mlo-online.com/files/base/ebm/mlo/image/2020/05/Pixabay_coronavirus_5107715_1280.5eb16e6f5f05a.png?auto=format&w=720">
			<p class="title text-center">Covid-19 Tracker</p>
		</div>
		
		<p class="text-center description">The situation of the Coronavirus epidemic data around the World</p>
		<div class="text-center time">
			<div class="text-bold" id="time"></div>(UTC +7)
		</div>
		<div class="container loader" id="loader"></div>
		
		<!-- Global -->
		<div id="global"></div>
		
		<!-- Countries -->
		<div id="countries">
			<div class="search">
				<input type="text" id="searchInput" onkeyup="SearchCountries()" class="search-input" placeholder="Searching names of countries . . .">
				<i class="search-icon fa fa-search"></i>
			</div>
			
			<table class="table table-striped">
				<thead>
					<tr>
						<th></th>
						<th class="th-contries">Countries</th>
						<th>Cases</th>
						<th>Recovered</th>
						<th>Deaths</th>
						<th>Tests</th>
					</tr>
				</thead>
				<tbody id="table"></tbody>
			</table>
			
			<!-- Search Countries -->
			<script>
				function SearchCountries(){
				  var input = document.getElementById("searchInput");
				  var filter = input.value.toUpperCase();
				  var table = document.getElementById("table");
				  var tr = table.getElementsByTagName("tr");
				  
				  for (var i=0; i<tr.length; i++){
					td = tr[i].getElementsByTagName("td")[1];
					if(td){var txtValue = td.textContent || td.innerText;
					  if(txtValue.toUpperCase().indexOf(filter) > -1){tr[i].style.display = "";}
					  else{tr[i].style.display = "none";}
					}
				  }
				}
			</script>
		</div>
	</div>
	
	<!-- Popup Event -->
	<script>
		<!-- Flag -->
		$("body").on("click", ".flagCountry", (e) => {
			let Img = e.target.getAttribute("src"); e.preventDefault();
			let nameCountry = e.target.parentNode.parentNode.cells[1].innerHTML;
			document.getElementById("nameCountry").textContent = nameCountry;
			document.getElementById("aboutTheData").textContent = "";
			$("#viewImage").attr("src", Img);
			$("#imgCfmCovid").attr("src", "");
			$("#viewModal").modal("toggle");
		});
		<!-- AboutTheData -->
		function AboutTheData(){
			$("#imgCfmCovid").attr("src", "https://img.icons8.com/bubbles/2x/question-mark.png");
			document.getElementById("nameCountry").textContent = "About The Data";
			document.getElementById("aboutTheData").innerHTML = 
				`Changes rapidly`+
					`<h6>This data updates every 15 minutes and might not reflect some cases still being reported.</h6>`+
				`Only includes people tested`+
					`<h6>Numbers are based on official estimates, which may not account for unverified cases in countries lacking the proper infrastructure to diagnose patients.</h6><h6 class="plusSign">The "+" sign means that the newly collected data is recorded during the day.</h6>`+
				`May discrepancies from other sources`+
					`<h6>A change may result in inaccurate/no data being reported for the associated region.</h6>`;
				
			$("#viewImage").attr("src", "");
			$("#viewModal").modal("toggle");
		}
	</script>
	<!-- Modal-->
	<div class="modal fade" id="viewModal" role="dialog">
		<div class="modal-dialog modal-xl" role="content">
			<div class="modal-content">
				<!-- Header Modal-->
				<div class="modal-header">
					<h4 class="modal-title" id="nameCountry"></h4><button class="close" type="close" data-dismiss="modal">&times;</button>
				</div>
				<div class="modal-body row">
					<!-- AboutTheData -->
					<div class="col-md-9 col-12">
						<h5 id="aboutTheData"></h5>
					</div>
					<div class="col-md-3 col-12">
						<img id="imgCfmCovid" style="">
					</div>

					<!-- Flag -->
					<img class="w-100" id="viewImage" />
				</div>
			</div>
		</div>
	</div>
	
	<!-- Footer -->
	<div class="footer">Producted by <a href="https://tovinhkhang.netlify.app/" target="_blank">ToVinhKhang</a></div>
</body>
</html>